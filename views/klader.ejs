<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Här hittar du alla kläder i vårat sortiment"
    />
    <title>Gröna Tryck - Butik</title>
    <link rel="stylesheet" href="/static/styles.css" />
    <link rel="stylesheet" href="/static/popup.css" />
  </head>
  <body>
    <header><%- include('partials/navbar') %></header>
    <div class="store-container">
      <div class="store-container-info">
        <div class="progress-section">
          <a href="/index">Hem</a> <span>/</span> <a href="/butik">Butik</a>
          <span>/</span> <a href="/klader">Kläder</a>
        </div>
        <div class="text-block">
          <h2 class="heading-m">Kläder</h2>
          <p class="body-text">
            Under vår klädkategori hittar du alltid ett brett sortiment av
            ekologiska och kvalitativa produkter.
          </p>
        </div>
        <div class="store-container-filtering">
          <span>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 800">
              <path
                d="M764 481.19h-46.31c-6.44-38.75-40.2-68.38-80.75-68.38s-74.3 29.63-80.74 68.38H36c-10.36 0-18.75 8.39-18.75 18.75s8.39 18.75 18.75 18.75h522.68c10.27 33.46 41.47 57.86 78.26 57.86s68-24.4 78.27-57.86H764c10.36 0 18.75-8.4 18.75-18.75s-8.39-18.75-18.75-18.75Zm-127.06 57.86c-15.62 0-29.38-8.12-37.28-20.36a44.049 44.049 0 0 1-7.08-24.01c0-4.7.74-9.24 2.1-13.49 5.72-17.89 22.5-30.88 42.26-30.88s36.55 12.99 42.27 30.88c1.37 4.25 2.1 8.79 2.1 13.49 0 8.84-2.6 17.09-7.08 24.01-7.9 12.24-21.66 20.36-37.29 20.36ZM36 329.33h59.81c10.27 33.46 41.47 57.86 78.27 57.86s67.99-24.4 78.26-57.86H764c10.36 0 18.75-8.39 18.75-18.75s-8.39-18.75-18.75-18.75H254.82c-6.44-38.75-40.2-68.38-80.74-68.38s-74.31 29.63-80.75 68.38H36c-10.36 0-18.75 8.4-18.75 18.75s8.39 18.75 18.75 18.75Zm138.08-68.38c19.76 0 36.54 12.99 42.26 30.88 1.36 4.26 2.1 8.79 2.1 13.49 0 8.84-2.6 17.09-7.07 24.01-7.91 12.24-21.67 20.36-37.29 20.36s-29.39-8.12-37.3-20.36a44.125 44.125 0 0 1-7.07-24.01c0-4.7.73-9.23 2.1-13.49 5.72-17.89 22.5-30.88 42.27-30.88Z"
                style="fill: #052900"
              />
            </svg>
            <p class="heading-s-ns">Filtera</p>
          </span>
          <div class="sort-container">
            <button class="sort-button body-text">
              <span id="sortButton">Sortera efter</span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 800 800"
                width="12"
                height="12"
                class="sort-icon"
              >
                <path
                  d="M575.39 420.98c.32-.44.63-.89.93-1.35.04-.07.09-.14.13-.21.26-.4.51-.81.76-1.23.08-.13.15-.27.23-.4.2-.34.39-.69.57-1.04.11-.21.21-.42.32-.63.14-.28.28-.56.41-.84.13-.28.26-.56.38-.85.09-.21.19-.43.27-.64.14-.34.28-.69.41-1.04l.18-.48c.14-.4.27-.79.4-1.19.04-.12.08-.24.11-.37.13-.43.25-.86.37-1.29.03-.1.05-.21.08-.31.11-.44.22-.89.31-1.33.02-.1.04-.21.07-.31.09-.44.17-.88.24-1.31l.06-.37c.06-.41.12-.83.17-1.24.02-.16.04-.32.05-.48.04-.38.07-.75.1-1.13.01-.21.03-.42.04-.63.02-.33.03-.65.04-.98v-1.59c0-.32-.02-.64-.03-.96-.01-.21-.02-.43-.04-.64-.02-.37-.06-.74-.09-1.11-.02-.16-.03-.33-.05-.49-.05-.41-.1-.82-.16-1.23-.02-.13-.04-.26-.06-.38-.07-.44-.15-.87-.24-1.3-.02-.11-.04-.22-.07-.33-.09-.44-.19-.88-.3-1.32-.03-.11-.05-.21-.08-.32-.11-.43-.23-.86-.36-1.28-.04-.13-.08-.25-.12-.38-.12-.4-.26-.79-.39-1.18-.06-.17-.12-.33-.18-.49-.13-.34-.26-.69-.4-1.03-.09-.22-.18-.44-.28-.66-.12-.28-.24-.56-.37-.84-.13-.29-.27-.57-.41-.85-.1-.21-.2-.41-.31-.62-.19-.36-.38-.71-.58-1.06-.07-.13-.15-.26-.22-.39-.24-.42-.5-.83-.76-1.25-.04-.06-.08-.13-.12-.19-.3-.46-.62-.92-.94-1.37-.01-.02-.03-.04-.04-.06-.34-.47-.69-.93-1.05-1.38 0-.01-.02-.02-.03-.03l-.01-.01c-.33-.41-.67-.81-1.02-1.2l-.19-.22c-.27-.3-.54-.59-.82-.87-.16-.17-.32-.34-.48-.5-.17-.17-.35-.34-.53-.51-.28-.27-.55-.53-.84-.79l-.25-.22c-.38-.34-.77-.67-1.16-.99 0 0-.02-.01-.02-.02l-294-237c-15.05-12.13-37.08-9.77-49.21 5.28-12.13 15.05-9.77 37.08 5.28 49.21l260.13 209.69-260.07 208.76c-15.07 12.1-17.48 34.13-5.38 49.2 6.91 8.61 17.07 13.09 27.32 13.09 7.69 0 15.43-2.52 21.89-7.71L568.5 428.18l.3-.24.18-.15c.09-.07.17-.14.25-.21.36-.3.72-.59 1.07-.91.23-.2.44-.41.67-.62.22-.21.44-.4.66-.62.96-.94 1.85-1.93 2.68-2.96l.02-.02c.02-.02.03-.04.04-.06.36-.44.7-.89 1.03-1.35.02-.03.04-.06.06-.08Z"
                />
              </svg>
            </button>
            <div class="sort-content">
              <a href="#" onclick="sortProducts('cheapest')" class="body-text"
                >Billigast</a
              >
              <a href="#" onclick="sortProducts('expensive')" class="body-text"
                >Dyrast</a
              >
              <a
                href="#"
                id="clearSort"
                onclick="clearSort()"
                style="display: none"
                class="body-text"
                >Rensa sortering</a
              >
            </div>
          </div>
        </div>
      </div>
      <div class="store-container-img">
        <img
          src="/static/images/Cards/50/webp/Striker_Heather Haze_Duo_Front_Main_0_50.webp"
          srcset="/static/images/Cards/50/webp/Striker_Heather Haze_Duo_Front_Main_0_50.webp,
                      /static/images/Cards/50/jpg/Striker_Heather Haze_Duo_Front_Main_0_50.jpg"
          alt="Kläder"
        />
      </div>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 1440 140"
        class="store-container-svg"
      >
        <path
          d="M1 26.89S196.38 2.09 336 1.58c146.52-.53 239.05 20.15 385 25.31C861.03 31.85 930.91 0 1071.5 0S1441 26.89 1441 26.89V140H1V26.89Z"
          style="fill: #e5eae4"
        />
      </svg>
    </div>
    <div class="filter-sidebar" id="filterSidebar">
      <div class="filter-header">
        <h2 class="heading-m">Filtrera</h2>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 800 800"
          width="22"
          height="22"
          id="closeFilterSidebar"
        >
          <path
            d="M453.77 400.01 781.88 80.58c14.84-14.45 15.16-38.19.71-53.03-14.45-14.84-38.19-15.16-53.03-.71L400.02 347.68 70.47 26.84c-14.84-14.45-38.58-14.13-53.03.71-14.45 14.84-14.13 38.58.71 53.03l328.1 319.44-328.1 319.43c-14.84 14.45-15.16 38.19-.71 53.03 7.35 7.55 17.11 11.34 26.87 11.34s18.87-3.53 26.16-10.63l329.54-320.84 329.54 320.84c7.29 7.1 16.73 10.63 26.16 10.63s19.52-3.79 26.87-11.34c14.45-14.84 14.13-38.58-.71-53.03l-328.1-319.44Z"
            style="fill: #567c50"
          />
        </svg>
      </div>
      <div class="filter-content">
        <!-- Price Filter -->
        <div class="filter-section">
          <h2 class="heading-s">Pris</h2>
          <div class="price-inputs">
            <input
              type="number"
              placeholder="Från"
              min="0"
              id="minPriceInput"
            />
            <input
              type="number"
              placeholder="Till"
              min="0"
              id="maxPriceInput"
            />
          </div>
        </div>

        <!-- Color Filter -->
        <div class="filter-section-color">
          <h2 class="heading-s">Färg</h2>
          <div class="color-grid">
            <button
              class="color-swatch"
              style="background-color: #ff4b4b"
              data-color="Red"
            ></button>
            <button
              class="color-swatch"
              style="background-color: #ffd700"
              data-color="Yellow"
            ></button>
            <button
              class="color-swatch"
              style="background-color: #90ee90"
              data-color="Green"
            ></button>
            <button
              class="color-swatch"
              style="background-color: #87ceeb"
              data-color="Blue"
            ></button>
            <button
              class="color-swatch"
              style="background-color: #deb887"
              data-color="Beige"
            ></button>
            <button
              class="color-swatch"
              style="background-color: #a0522d"
              data-color="Brown"
            ></button>
            <button
              class="color-swatch"
              style="background-color: #000000"
              data-color="Black"
            ></button>
            <button
              class="color-swatch"
              style="background-color: #ffffff; border: 1px solid #ccc"
              data-color="White"
            ></button>
            <button
              class="color-swatch"
              style="background-color: #808080"
              data-color="Gray"
            ></button>
          </div>
        </div>

        <!-- Fit Type Filter -->
        <div class="filter-section">
          <h2 class="heading-s">Passform</h2>
          <div class="fit-options">
            <% const fits = ["Dam", "Herr", "Unisex"]; %> <% fits.forEach(fit =>
            { %>
            <label class="fit-option">
              <input
                type="checkbox"
                name="fit"
                value="<%= fit.toLowerCase() %>"
              />
              <span><%= fit %></span>
            </label>
            <% }); %>
          </div>
        </div>
      </div>
    </div>

    <section>
      <div class="store-products-container" id="productsContainer">
        <% products.forEach((product) => { %>
        <div class="gt-product">
          <div class="gt-product-image">
            <a href="/produktsidan/<%= product.id %>">
              <picture class="gt-product-image">
                <source
                  srcset="<%= product.model_image_webp.image %>"
                  type="image/webp"
                />
                <img
                  src="<%= product.model_image_jpg.image %>"
                  alt="Beskrivning av bilden"
                />
              </picture>
            </a>
          </div>
          <div class="gt-product-info">
            <p class="gt-product-price heading-s">
              <%= product.price_tiers.length > 0 ?
              `${product.price_tiers[product.price_tiers.length -
              1].price_per_unit} kr - ${product.price_tiers[0].price_per_unit}
              kr` : "Price unavailable" %>
            </p>
            <p class="gt-product-name body-text"><%= product.name %></p>
          </div>
          <div class="gt-product-extra-info">
            <p class="body-text"><%= product.fit %></p>
            <p class="body-text">Minimum: <%= product.minimum %></p>
            <p class="body-text"><%= product.egenskaper_info[2] %></p>
            <p class="body-text">
              Färger: <%= product.products_images ?
              product.products_images.length : 0 %>
            </p>
          </div>
        </div>
        <% }); %>
      </div>
      <div class="store-expand-btn">
        <button class="primary-btn" id="loadMoreButton">Visa mer</button>
      </div>
    </section>
    <script type="application/json" id="productsData">
      <%- JSON.stringify(products) %>
    </script>

    <script src="/static/filter.js"></script>
    <script src="/static/script.js"></script>
    <%- include('partials/footer') %> <%- include('partials/chatbox') %>
  </body>
</html>
